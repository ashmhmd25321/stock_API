<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <style>
        /* Hide form fields */
        form > input[type="number"],
        form > label {
            display: none;
        }
    </style>
</head>
<body>
    <form action="/predictAnomaly" method="post" id="anomalyForm">
        <label for="cpu_usage">CPU Usage:</label>
        <input type="number" id="cpu_usage" name="cpu_usage" step="0.01" required><br><br>

        <label for="memory_usage">Memory Usage:</label>
        <input type="number" id="memory_usage" name="memory_usage" step="0.01" required><br><br>

        <label for="response_time">Response Time:</label>
        <input type="number" id="response_time" name="response_time" step="0.01" required><br><br>

        <label for="network_traffic">Network Traffic:</label>
        <input type="number" id="network_traffic" name="network_traffic" required><br><br>

        <!-- Hidden submit button -->
        <input type="submit" style="display:none;">
    </form>

    <script>
        window.onload = function() {
            // Function to submit the form
            function submitForm() {
                document.getElementById("anomalyForm").submit();
            }

            // Get parameters from URL
            var urlParams = new URLSearchParams(window.location.search);
            var cpu = urlParams.get('cpu_usage');
            var memory = urlParams.get('memory_usage');
            var responseTime = urlParams.get('response_time');
            var networkTraffic = urlParams.get('network_traffic');

            // Fill form fields
            document.getElementById('cpu_usage').value = cpu;
            document.getElementById('memory_usage').value = memory;
            document.getElementById('response_time').value = responseTime;
            document.getElementById('network_traffic').value = networkTraffic;

            // Submit the form once values are filled
            submitForm();
        }
    </script>
</body>
</html>
